<div class="container mt-5">
  <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>

  <form
    *ngIf="form"
    [formGroup]="form"
    (ngSubmit)="onSubmit()"
    class="border p-4 bg-light"
  >
    <div class="form-row">
      <div class="form-group col-md-6" *ngIf="form.get('firstName')">
        <label for="firstName">First Name:</label>
        <input type="text" formControlName="firstName" class="form-control" />
        <div
          *ngIf="
            form.get('firstName')?.hasError('required') &&
            (form.get('firstName')?.touched || form.get('firstName')?.dirty)
          "
        >
          <small class="text-danger">First Name is required</small>
        </div>
        <div
          *ngIf="
            form.get('firstName')?.hasError('pattern') &&
            (form.get('firstName')?.touched || form.get('firstName')?.dirty)
          "
        >
          <small class="text-danger">Invalid characters in First Name</small>
        </div>
      </div>
      <div class="form-group col-md-6" *ngIf="form.get('lastName')">
        <label for="lastName">Last Name:</label>
        <input type="text" formControlName="lastName" class="form-control" />
        <div
          *ngIf="
            form.get('lastName')?.hasError('required') &&
            (form.get('lastName')?.touched || form.get('lastName')?.dirty)
          "
        >
          <small class="text-danger">Last Name is required</small>
        </div>
        <div
          *ngIf="
            form.get('lastName')?.hasError('pattern') &&
            (form.get('lastName')?.touched || form.get('lastName')?.dirty)
          "
        >
          <small class="text-danger">Invalid characters in Last Name</small>
        </div>
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>

  <div class="mt-3">
    <p *ngIf="submitted" class="alert alert-success">User Created !</p>
  </div>
</div>
